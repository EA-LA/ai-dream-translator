<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#0a1026" />
  <title>Pricing — AI Dream Translator</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    /* page-only polish; does NOT change your global theme */
    .pricing-hero h1{margin-bottom:6px}
    .billing{margin:12px 0 18px;display:flex;gap:12px;align-items:center;justify-content:center}
    .pill{display:inline-block;border:1px solid rgba(255,255,255,.12);padding:6px 10px;border-radius:999px;color:#c9d1d9;background:rgba(255,255,255,.06)}
    .switch{position:relative;width:110px;height:36px;border-radius:20px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12);cursor:pointer}
    .knob{position:absolute;top:3px;left:3px;width:50px;height:30px;border-radius:16px;background:#1f2937;transition:all .18s ease}
    .switch[data-mode="yearly"] .knob{left:57px}
    .price{font-size:32px;font-weight:800}
    .muted{color:#c9d1d9}
    .grid.pricing{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
    .popular{position:absolute;right:16px;top:14px;font-size:12px;border:1px solid rgba(255,255,255,.15);padding:4px 8px;border-radius:999px;background:rgba(255,255,255,.04)}
    ul.checks{list-style:none;padding:0;margin:10px 0 0}
    ul.checks li{display:flex;gap:10px;align-items:flex-start;padding:8px 0;border-top:1px dashed rgba(255,255,255,.15)}
    ul.checks li:first-child{border-top:none}
    .yes{color:#7cff9a;font-weight:900}
    .enterprise{display:flex;gap:14px;align-items:center;flex-wrap:wrap}
  </style>
</head>
<body>
  <!-- same background as Home -->
  <div class="bg"><div class="stars"></div><div class="glow"></div></div>

  <!-- same nav + LOCAL links -->
  <nav class="nav">
    <div class="wrap nav-in">
      <a class="brand" href="index.html"><span class="logo"></span><span>AI Dream Translator</span></a>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a class="active" href="pricing.html">Pricing</a>
        <a href="contact.html">Contact</a>
        <a href="signin.html">Sign in</a>
      </div>
      <button class="hamburger" id="hamburger" aria-label="Menu"><span></span></button>
    </div>
  </nav>

  <header class="wrap hero center pricing-hero">
    <h1 class="h1">Simple, fair pricing</h1>
    <p class="lead">Start free. Upgrade when you want unlimited interpretations, HD dream art, deeper lenses, and private journaling tools.</p>

    <!-- Billing toggle -->
    <div class="billing">
      <span class="pill">Yearly <strong style="color:#fff;margin-left:4px">20% off</strong></span>
      <div class="pill" style="display:flex;gap:10px;align-items:center">
        <span>Yearly</span>
        <div class="switch" id="billingSwitch" data-mode="monthly" aria-label="Toggle billing period">
          <div class="knob"></div>
        </div>
        <span>Monthly</span>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="grid pricing">
      <!-- Free -->
      <article class="card" style="position:relative">
        <h3>Free</h3>
        <div class="price">$0 <span class="muted">/forever</span></div>
        <div class="muted">No billing</div>
        <ul class="checks">
          <li><span class="yes">✔</span><div>2 dream interpretations / day</div></li>
          <li><span class="yes">✔</span><div>1 dream art generation / day</div></li>
          <li><span class="yes">✔</span><div>Basic symbolism insights</div></li>
          <li><span class="yes">✔</span><div>Save to local history</div></li>
          <li><span class="yes">✔</span><div>Personal use license</div></li>
        </ul>
        <button class="btn ghost mt2" id="btnFree">Get started</button>
      </article>

      <!-- Lite -->
      <article class="card" style="position:relative">
        <h3>Lite</h3>
        <div class="price"><span class="js-price" data-monthly="12" data-yearly="10">12</span> <span class="muted">/month</span></div>
        <div class="muted">Billed <span class="js-billing">monthly</span></div>
        <ul class="checks">
          <li><span class="yes">✔</span><div>8 dream interpretations / day</div></li>
          <li><span class="yes">✔</span><div>3 dream art generations / day</div></li>
          <li><span class="yes">✔</span><div>Multi-lens: Psychological + Symbolic</div></li>
          <li><span class="yes">✔</span><div>Dream journal & tags</div></li>
          <li><span class="yes">✔</span><div>Email export (.txt)</div></li>
          <li><span class="yes">✔</span><div>Priority queue (lite)</div></li>
          <li><span class="yes">✔</span><div>Commercial-lite license</div></li>
        </ul>
        <!-- attach BOTH price ids; JS picks based on toggle -->
        <button class="btn primary mt2"
                data-plan="lite"
                data-price-monthly="__LITE_PRICE_MONTHLY__"
                data-price-yearly="__LITE_PRICE_YEARLY__">Subscribe</button>
        <p class="small muted mt">20% off when billed yearly</p>
      </article>

      <!-- Standard (popular) -->
      <article class="card" style="position:relative;outline:1px solid rgba(255,255,255,.12)">
        <div class="popular">POPULAR</div>
        <h3>Standard</h3>
        <div class="price"><span class="js-price" data-monthly="28" data-yearly="22">28</span> <span class="muted">/month</span></div>
        <div class="muted">Billed <span class="js-billing">monthly</span></div>
        <ul class="checks">
          <li><span class="yes">✔</span><div>Unlimited dream interpretations</div></li>
          <li><span class="yes">✔</span><div>10 dream art generations / day (HD)</div></li>
          <li><span class="yes">✔</span><div>All lenses: Psychological • Symbolic • Cultural • Spiritual</div></li>
          <li><span class="yes">✔</span><div>Private mode (local only, no cloud)</div></li>
          <li><span class="yes">✔</span><div>History search + filters</div></li>
          <li><span class="yes">✔</span><div>Weekly insights report (habits & themes)</div></li>
          <li><span class="yes">✔</span><div>Priority support</div></li>
          <li><span class="yes">✔</span><div>Commercial license</div></li>
        </ul>
        <button class="btn primary mt2"
                data-plan="standard"
                data-price-monthly="__STANDARD_PRICE_MONTHLY__"
                data-price-yearly="__STANDARD_PRICE_YEARLY__">Subscribe</button>
        <p class="small muted mt">20% off when billed yearly</p>
      </article>

      <!-- Pro -->
      <article class="card" style="position:relative">
        <h3>Pro</h3>
        <div class="price"><span class="js-price" data-monthly="100" data-yearly="80">100</span> <span class="muted">/month</span></div>
        <div class="muted">Billed <span class="js-billing">monthly</span></div>
        <ul class="checks">
          <li><span class="yes">✔</span><div>Everything in Standard</div></li>
          <li><span class="yes">✔</span><div>150 HD dream art generations / month</div></li>
          <li><span class="yes">✔</span><div>Voice-to-dream (speak & auto-transcribe)</div></li>
          <li><span class="yes">✔</span><div>Custom prompts & style presets</div></li>
          <li><span class="yes">✔</span><div>Multilingual translations (EN + FA + ES + AR)</div></li>
          <li><span class="yes">✔</span><div>Team seat (2 included)</div></li>
          <li><span class="yes">✔</span><div>Early access to new models</div></li>
          <li><span class="yes">✔</span><div>Priority queue (max)</div></li>
        </ul>
        <button class="btn primary mt2"
                data-plan="pro"
                data-price-monthly="__PRO_PRICE_MONTHLY__"
                data-price-yearly="__PRO_PRICE_YEARLY__">Subscribe</button>
        <p class="small muted mt">20% off when billed yearly</p>
      </article>

      <!-- Enterprise -->
      <article class="card enterprise" style="grid-column:1/-1">
        <span class="pill">Enterprise</span>
        <div style="flex:1;min-width:240px">Tailor a plan for organizations: increased limits, privacy & compliance options, SSO/SAML, dedicated support, and offline/private deployments.</div>
        <a class="btn ghost" href="contact.html">Talk to sales</a>
      </article>
    </section>

    <!-- FAQ -->
    <section class="mt2" id="faq">
      <h3>FAQ</h3>
      <details class="card mt">
        <summary>What counts toward the daily limits?</summary>
        <div class="small">Each “Interpret Dream” uses one interpretation. Each generated image uses one dream-art credit.</div>
      </details>
      <details class="card mt">
        <summary>Do you store my dreams?</summary>
        <div class="small">Free stores locally in your browser. Paid plans can sync to your account and you can delete entries anytime. Private Mode keeps everything on your device.</div>
      </details>
      <details class="card mt">
        <summary>Can I switch between monthly and yearly?</summary>
        <div class="small">Yes—switch anytime. Yearly saves ~20% and applies to the next billing cycle.</div>
      </details>
      <details class="card mt">
        <summary>Is this therapy or medical advice?</summary>
        <div class="small">No—this is educational reflection. For mental health concerns, please consult a professional.</div>
      </details>
    </section>
  </main>

  <footer class="wrap foot">© <span id="year"></span> AI Dream Translator</footer>

  <!-- Scripts -->
  <script>
    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Billing toggle (monthly/yearly)
    const switchEl = document.getElementById('billingSwitch');
    const prices = Array.from(document.querySelectorAll('.js-price'));
    const billLabels = Array.from(document.querySelectorAll('.js-billing'));
    function setMode(mode){
      switchEl.setAttribute('data-mode', mode);
      prices.forEach(p=>{ p.textContent = (mode==='yearly' ? p.dataset.yearly : p.dataset.monthly); });
      billLabels.forEach(b=> b.textContent = (mode==='yearly' ? 'yearly' : 'monthly'));
    }
    setMode('monthly');
    switchEl.addEventListener('click', ()=>{
      const next = switchEl.getAttribute('data-mode')==='monthly' ? 'yearly' : 'monthly';
      setMode(next);
    });

    // Activate free
    document.getElementById('btnFree').addEventListener('click', ()=>{
      localStorage.setItem('adt_plan','free');
      alert('Free plan activated. Enjoy!');
      location.href = 'dashboard.html';
    });

    // Subscribe buttons -> create checkout session
    document.querySelectorAll('button[data-plan]').forEach(btn=>{
      btn.addEventListener('click', async ()=>{
        const plan = btn.dataset.plan;
        const mode = switchEl.getAttribute('data-mode') || 'monthly';
        const price = btn.dataset[mode === 'yearly' ? 'priceYearly' : 'priceMonthly'];

        if (!price || price.startsWith('__')) {
          alert('Missing Stripe Price ID for ' + plan + ' (' + mode + '). Set them in the HTML or wire via the API.');
          return;
        }

        const res = await fetch('/api/create-checkout-session', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({
            price,
            success_url: location.origin + '/success.html?plan=' + plan,
            cancel_url:  location.origin + '/pricing.html'
          })
        });
        const data = await res.json();
        if (data?.error) return alert(data.error);
        if (data?.url) location.href = data.url;
        else alert('Could not start checkout.');
      });
    });
  </script>

  <script src="app.js" defer></script>
</body>
</html>
